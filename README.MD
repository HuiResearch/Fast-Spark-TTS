<div align="center">
  <img src="docs/zh/_img/icon.png" width="450"/>

[ğŸ“˜Documentation](docs/zh/README.MD)

[ä¸­æ–‡](README.MD) | [English](README_EN.MD)

</div>

______________________________________________________________________

## ä»‹ç»

> åŸºäºSparkTTSã€OrpheusTTSã€MegaTTS3ç­‰æ¨¡å‹ï¼Œæä¾›é«˜è´¨é‡ä¸­æ–‡è¯­éŸ³åˆæˆä¸å£°éŸ³å…‹éš†æœåŠ¡ã€‚é€šè¿‡ç®€å•æ˜“ç”¨çš„Webç•Œé¢ï¼Œè®©æ‚¨è½»æ¾åˆ›å»ºè‡ªç„¶é€¼çœŸçš„äººå£°ï¼Œæ»¡è¶³å„ç§åœºæ™¯éœ€æ±‚ã€‚

> å¦‚æœé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç»™é¡¹ç›®ç‚¹ä¸ªstarã€‚

## âœ¨ ç‰¹æ€§

- ğŸš€ **å¤šç§åç«¯åŠ é€Ÿ**: æ”¯æŒ`vllm`ã€`sglang`ã€`llama cpp`ã€`mlx-lm` å¤šç§åŠ é€Ÿç­–ç•¥
- ğŸ¯ **é«˜å¹¶å‘**: é‡‡ç”¨åŠ¨æ€æ‰¹å¤„ç†ï¼Œæå¤§æé«˜å¹¶å‘
- ğŸ›ï¸ **å…¨å‚æ•°æ§åˆ¶**: éŸ³è°ƒã€è¯­é€Ÿã€éŸ³è‰²æ¸©åº¦ç­‰å…¨æ–¹ä½å¯è°ƒ
- ğŸ“± **è½»é‡éƒ¨ç½²**: æœ€å°ä¾èµ–ï¼ŒåŸºäºFlaskå’Œfastapiå¿«é€Ÿå¯åŠ¨
- ğŸ¨ **ç®€æ´ç•Œé¢**: æ ‡å‡†çš„ç°ä»£åŒ–UI
- ğŸ”Š **é•¿æ–‡æœ¬è¯­éŸ³åˆæˆ**: å®ç°è¶…é•¿æ–‡æœ¬è¯­éŸ³åˆæˆï¼Œå¹¶ä¿æŒéŸ³è‰²ä¸€è‡´æ€§ã€‚
- ğŸ”„ **æ”¯æŒæµå¼è¯­éŸ³åˆæˆ**: å®ç°å®æ—¶è¯­éŸ³åˆæˆï¼Œè¾¹ç”Ÿæˆè¾¹æ’­æ”¾ï¼Œé™ä½ç­‰å¾…æ—¶é—´ï¼Œæå‡äº¤äº’ä½“éªŒ
- ğŸ­ **å¤šè§’è‰²è¯­éŸ³åˆæˆ**: æ”¯æŒå¤šè§’è‰²è¯­éŸ³åˆæˆï¼Œå¯åº”ç”¨äºå‰§æœ¬å¯¹è¯åˆæˆã€‚

## ğŸ–¼ï¸ å‰ç«¯å±•ç¤º

https://github.com/user-attachments/assets/1bd9d586-fac7-4016-b955-5a58d8fb9d7e

## è¯­éŸ³ Demos

è¿™é‡Œæ˜¯`Spark-TTS`æ¨¡å‹çš„å…‹éš†è¯­éŸ³è¯•å¬æ¡ˆä¾‹

---

<table>
<tr>
<td align="center">

**Donald Trump (en)**
</td>
<td align="center">

**Donald Trump (zh)**
</td>
</tr>

<tr>
<td align="center">

[Donald Trump en](https://github.com/user-attachments/assets/79d4d1d1-5579-4ddb-8092-500b3db05d45)

</td>
<td align="center">

[Donald Trump zh](https://github.com/user-attachments/assets/262f4306-4a0f-4735-b4e7-708cd3193324)

</td>
</tr>
</table>

<table>
<tr>
<td align="center">

**å“ªå’**
</td>
<td align="center">

**æé–**
</td>
</tr>

<tr>
<td align="center">

[å“ªå’](https://github.com/user-attachments/assets/4743778b-63c7-4c42-95b2-636828364d67)

</td>
<td align="center">

[æé–](https://github.com/user-attachments/assets/b5a51fa9-c5a1-4f39-bbf8-09e73b2c1936)

</td>
</tr>
</table>

<table>
<tr>
<td align="center">

**ä½™æ‰¿ä¸œ**
</td>
<td align="center">

**å¾å¿—èƒœ**
</td>
</tr>

<tr>
<td align="center">

[ä½™æ‰¿ä¸œ](https://github.com/user-attachments/assets/1cd5f156-010d-4bc9-8e99-f37def54b99f)

</td>
<td align="center">

[å¾å¿—èƒœ](https://github.com/user-attachments/assets/f197ac39-5928-4ead-83d7-071b1bf5f974)

</td>
</tr>
</table>

---

è¿™é‡Œæ˜¯`MegaTTS3`æ¨¡å‹çš„å…‹éš†è¯­éŸ³è¯•å¬æ¡ˆä¾‹

---

<table>
<tr>
<td align="center">

**è”¡å¾å¤**
</td>
<td align="center">

**å¤ªä¹™çœŸäºº**
</td>
</tr>

<tr>
<td align="center">

[è”¡å¾å¤](https://github.com/user-attachments/assets/bcb48ead-f157-45d7-8060-cbccf418f0ed)

</td>
<td align="center">

[å¤ªä¹™çœŸäºº](https://github.com/user-attachments/assets/73edbd6b-ece3-4e22-95a2-53b7c4e45346)

</td>
</tr>
</table>

---

è¿™é‡Œæ˜¯`OrpheusTTS zh`æ¨¡å‹çš„åˆæˆè¯­éŸ³è¯•å¬æ¡ˆä¾‹

---

<table>
<tr>
<td align="center">

**é•¿ä¹**
</td>
<td align="center">

**ç™½èŠ·**
</td>
</tr>

<tr>
<td align="center">

[é•¿ä¹](https://github.com/user-attachments/assets/271bd5a3-dd56-430a-87d0-ebea0e397a89)

</td>
<td align="center">

[ç™½èŠ·](https://github.com/user-attachments/assets/e012c580-840f-401c-99f5-665c72f6b89f)

</td>
</tr>
</table>

---

## æ¨ç†é€Ÿåº¦

- æ˜¾å¡ï¼š`A800`
- æ¨¡å‹ï¼š`Spark-TTS-0.5B`
- æµ‹è¯•ä½¿ç”¨å‚æ•°å’Œè¯„æµ‹æ–¹å¼å¯å‚è€ƒ[speed_test.py](examples/speed_test.py)
- è¾“å‡ºéŸ³é¢‘é•¿åº¦(audio len)ã€æ¨ç†è€—æ—¶(cost time)å•ä½éƒ½ä¸ºç§’ã€‚
- è¯„æµ‹åŒ…æ‹¬é•¿æ–‡æœ¬å’ŒçŸ­æ–‡æœ¬åœºæ™¯ã€‚
- å®˜æ–¹ä»£ç æœªè¯„æµ‹ï¼Œå¦‚æœ‰éœ€æ±‚ï¼Œå¯è‡ªè¡Œè¯„æµ‹ã€‚

| åœºæ™¯  |  engine   | device | audio len | cost time |  RTF  |
|:---:|:---------:|:------:|:---------:|:---------:|:-----:|
| çŸ­æ–‡æœ¬ | llama-cpp |  cpu   |   7.48    |   6.808   | 0.910 |
| çŸ­æ–‡æœ¬ |   torch   |  gpu   |   7.18    |   7.675   | 1.069 |
| çŸ­æ–‡æœ¬ |   vllm    |  gpu   |   7.24    |   1.664   | 0.230 |
| çŸ­æ–‡æœ¬ |  sglang   |  gpu   |   7.58    |   1.073   | 0.142 |
| é•¿æ–‡æœ¬ | llama-cpp |  cpu   |  121.98   |  117.828  | 0.966 |
| é•¿æ–‡æœ¬ |   torch   |  gpu   |   113.7   |  107.167  | 0.943 |
| é•¿æ–‡æœ¬ |   vllm    |  gpu   |  111.82   |   7.282   | 0.065 |
| é•¿æ–‡æœ¬ |  sglang   |  gpu   |  117.02   |   4.197   | 0.036 |

## æç¤º

1. `SparkTTS`æ¨¡å‹æƒé‡é‡åŒ–ä¸º`float16`æ— æ³•ä½¿ç”¨ï¼Œ`torch_dtype`è¯·è®¾ç½®ä¸º`bfloat16`æˆ–`float32`ã€‚
2. å¦‚æœå‡ºç°é•¿ç©ºç™½éŸ³ï¼Œå¯å°è¯•è°ƒæ•´`repetition_penalty`å‚æ•°ï¼Œå¤§äº`1.0`ä¼šé™ä½é‡å¤tokenç”Ÿæˆçš„æ¦‚ç‡ï¼Œå¯é¿å…é•¿æ—¶é—´é™éŸ³`token`ç”Ÿæˆ(
   SparkTTSçš„é™éŸ³token idä¸º`163406`)ã€‚
3. `OrpheusTTS`æ”¯æŒemotion tagï¼Œç›´æ¥åœ¨æ–‡æœ¬ä¸­æ·»åŠ `<tag>`
   å³å¯å®ç°ã€‚æ¯ä¸ªæ¨¡å‹æ”¯æŒçš„tagæ ‡ç­¾è¯·å‚è€ƒï¼š[orpheus_engine.py](fast_tts/engine/orpheus_engine.py) ä¸­ LANG_MAP
4. å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œ`MegaTTS3`
   å›¢é˜Ÿæœªä¸Šä¼ WaveVAEç¼–ç å™¨å‚æ•°ã€‚å› æ­¤ï¼Œåªèƒ½ä»æ­¤å¤„é“¾æ¥ä¸‹è½½å‚è€ƒéŸ³é¢‘è¿›è¡Œæ¨ç†ï¼š[å‚è€ƒéŸ³é¢‘](https://drive.google.com/drive/folders/1QhcHWcy20JfqWjgqZX1YM3I6i9u4oNlr)
   ã€‚å¦‚æœéœ€è¦ä½¿ç”¨è‡ªå·±çš„éŸ³é¢‘ï¼Œè¯·å‚è€ƒMegaTTS3é¡¹ç›®çš„è¯´æ˜ï¼š[MegaTTS3](https://github.com/bytedance/MegaTTS3/tree/main?tab=readme-ov-file#inference)

## Acknowledgement

1. [Spark-TTS](https://github.com/SparkAudio/Spark-TTS)
2. [Orpheus-TTS](https://github.com/canopyai/Orpheus-TTS)
3. [MegaTTS3](https://github.com/bytedance/MegaTTS3)

## âš ï¸ å…è´£å£°æ˜

è¯¥é¡¹ç›®æä¾›äº†é›¶æ ·æœ¬è¯­éŸ³å…‹éš† TTS æ¨¡å‹ï¼Œæ—¨åœ¨ç”¨äºå­¦æœ¯ç ”ç©¶ã€æ•™è‚²ç›®çš„å’Œåˆæ³•åº”ç”¨ï¼Œä¾‹å¦‚ä¸ªæ€§åŒ–è¯­éŸ³åˆæˆã€è¾…åŠ©æŠ€æœ¯å’Œè¯­è¨€ç ”ç©¶ã€‚

è¯·æ³¨æ„ï¼š

- è¯·å‹¿å°†æ­¤æ¨¡å‹ç”¨äºæœªç»æˆæƒçš„è¯­éŸ³å…‹éš†ã€å†’å……ã€æ¬ºè¯ˆã€è¯ˆéª—ã€æ·±åº¦ä¼ªé€ æˆ–ä»»ä½•éæ³•æ´»åŠ¨ã€‚

- ç¡®ä¿ä½¿ç”¨æ­¤æ¨¡å‹æ—¶éµå®ˆå½“åœ°çš„æ³•å¾‹æ³•è§„å¹¶éµå®ˆé“å¾·æ ‡å‡†ã€‚

- å¼€å‘äººå‘˜å¯¹äºæ­¤æ¨¡å‹çš„ä»»ä½•è¯¯ç”¨ä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚

æœ¬é¡¹ç›®æå€¡è´Ÿè´£ä»»åœ°å¼€å‘å’Œä½¿ç”¨äººå·¥æ™ºèƒ½ï¼Œå¹¶é¼“åŠ±ç¤¾åŒºåœ¨äººå·¥æ™ºèƒ½ç ”ç©¶å’Œåº”ç”¨ä¸­åšæŒå®‰å…¨å’Œé“å¾·åŸåˆ™ã€‚

## è®¸å¯åè®®ä¸è‡´è°¢

æœ¬é¡¹ç›®åŸºäº [Spark-TTS](https://github.com/SparkAudio/Spark-TTS) æ„å»ºï¼Œå¹¶é‡‡ç”¨ä¸ SparkTTS
ç›¸åŒçš„å¼€æºè®¸å¯åè®®è¿›è¡Œåˆ†å‘ã€‚è¯¦æƒ…è¯·å‚é˜…åŸå§‹ [SparkTTS è®¸å¯åè®®](https://github.com/SparkAudio/Spark-TTS/blob/main/LICENSE)ã€‚

## Star History

[![Star History Chart](https://api.star-history.com/svg?repos=HuiResearch/Fast-Spark-TTS&type=Date)](https://www.star-history.com/#HuiResearch/Fast-Spark-TTS&Date)